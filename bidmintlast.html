<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Topvip NFT Minting Portal </title>
  <script src="https://cdn.jsdelivr.net/npm/web3@1.8.2/dist/web3.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/vanta@0.5.24/dist/vanta.net.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Arial', sans-serif;
    }
    body {
      background: #000;
      color: #fff;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      position: relative;
      overflow-x: hidden;
    }
    #bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
    }
    .header {
      text-align: center;
      margin-bottom: 20px;
      width: 100%;
    }
    .logo-link {
      display: inline-block;
      margin-bottom: 10px;
      transition: transform 0.3s;
    }
    .polygon-logo {
      width: 70px;
      height: auto;
      border-radius: 50%;
      box-shadow: 0 0 15px rgba(0, 255, 204, 0.5);
    }
    .polygon-logo:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(0, 255, 204, 0.8);
    }
    h1 {
      font-size: 24px;
      margin-bottom: 10px;
      color: #00ffcc;
      text-shadow: 0 0 10px rgba(0, 255, 204, 0.5);
    }
    .container {
      width: 100%;
      max-width: 500px;
    }
    .card {
      background: rgba(0,30,0,0.8);
      border: 2px solid #00ff00;
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 0 15px rgba(0, 255, 0, 0.7);
    }
    input {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: 2px solid #00ffcc;
      border-radius: 8px;
      background: rgba(0,0,0,0.5);
      color: #fff;
      font-size: 16px;
      transition: all 0.3s;
    }
    input:focus {
      outline: none;
      border-color: #0099ff;
      box-shadow: 0 0 10px rgba(0, 153, 255, 0.5);
    }
    button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s;
    }
    .btn-primary {
      background: linear-gradient(135deg, #00ffcc, #0099ff);
      color: #000;
    }
    .btn-primary:hover {
      opacity: 0.9;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 255, 204, 0.4);
    }
    .btn-secondary {
      background: rgba(255,255,255,0.1);
      color: #fff;
      border: 1px solid #00ffcc;
    }
    .btn-secondary:hover {
      background: rgba(0, 255, 204, 0.1);
    }
    button:disabled {
      background: #333;
      color: #666;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    .loading {
      display: none;
      width: 30px;
      height: 30px;
      margin: 15px auto;
      border: 4px solid rgba(0,255,204,0.3);
      border-top: 4px solid #00ffcc;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .message {
      padding: 12px;
      margin: 15px 0;
      border-radius: 8px;
      text-align: center;
    }
    .error {
      background: rgba(255,50,50,0.2);
      border: 1px solid #ff3232;
      color: #ff6b6b;
    }
    .success {
      background: rgba(0,255,153,0.2);
      border: 1px solid #00ff99;
      color: #00ff99;
    }
    .stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 15px;
      margin-top: 20px;
    }
    .stat-item {
      text-align: center;
      padding: 12px;
      background: rgba(0,0,0,0.5);
      border-radius: 8px;
      border: 1px solid #333;
    }
    .stat-value {
      font-size: 18px;
      font-weight: bold;
      color: #00ffcc;
    }
    .admin-panel {
      display: none;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 1px dashed #00ffcc;
    }
    .wallet-info {
      margin-top: 15px;
      padding: 12px;
      background: rgba(0,0,0,0.5);
      border-radius: 8px;
      border: 1px solid #333;
      font-size: 14px;
      text-align: center;
    }
    @media (max-width: 600px) {
      body {
        padding: 15px;
      }
      .card {
        padding: 15px;
      }
      .stats {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div id="bg"></div>

  <header class="header">
    <a href="https://www.engmo1234.com/index" target="_blank" class="logo-link">
      <img src="http://www.engmo1234.com/polygon-logo.png" 
           alt="Polygon Logo" class="polygon-logo" onerror="this.src='https://polygon.technology/images/polygon-logo.png'">
    </a>
    <h1>Basic NFT Minting Portal</h1>
  </header>

  <main class="container">
    <div class="card">
      <h2>Mint Your Basic NFT approval time can take up to 4 working days minimum bid = 786matic (click polygon logo then how it works button)لا يجوز وضع اقل من هذا المبلغ</h2>
      <input type="number" id="bidAmount" placeholder="Enter amount in MATIC" step="0.01" min="1">
      <button id="bidButton" class="btn-primary">Submit Bid</button>
      <button id="mintButton" class="btn-primary" disabled>Mint NFT</button>
      <button id="withdrawButton" class="btn-secondary">Withdraw Bid</button>
      <button id="refreshButton" class="btn-secondary" style="margin-top: 10px;">Refresh Status</button>
      
      <div class="loading" id="loading"></div>
      <div class="message error" id="error" style="display:none;"></div>
      <div class="message success" id="success" style="display:none;"></div>
      
      <div class="stats">
        <div class="stat-item">
          <div>Total Minted</div>
          <div class="stat-value" id="totalMinted">0</div>
        </div>
        <div class="stat-item">
          <div>Max Supply</div>
          <div class="stat-value" id="maxSupply">0</div>
        </div>
        <div class="stat-item">
          <div>Your Balance</div>
          <div class="stat-value" id="userBalance">0</div>
        </div>
      </div>
    </div>

    <div class="card">
      <h2>Transaction Details</h2>
      <div>
        <div><strong>From:</strong> <span id="txFrom">-</span></div>
        <div><strong>To:</strong> <span id="txTo">-</span></div>
        <div><strong>Gas Used:</strong> <span id="txGas">-</span></div>
      </div>
      <div class="wallet-info" id="walletInfo">Wallet not connected</div>
    </div>

    <div class="card admin-panel" id="adminPanel">
      <h3>Admin Controls</h3>
      <input type="text" id="bidderAddress" placeholder="Enter bidder's wallet address">
      <button id="approveButton" class="btn-primary">Approve Bid</button>
      <button id="rejectButton" class="btn-secondary">Reject Bid</button>
    </div>

    <div class="card" id="unlockableContent" style="display:block;">
      <h2>Exclusive Content</h2>
      <p>Thank you for being a collector! Here's your exclusive content:</p>
      <button id="unlockButton" class="btn-primary">Reveal Private Link</button>
      <div id="contentLink" style="display:none; margin-top:15px;">
        <a href="https://engmo1234.com/basic" target="_blank" style="color:#00ffcc;">Access Your Exclusive Content through this link pssword is available inside your nft, access meta mask PORTFOLIO BUTTON inside metamask wallet and check nft description to read pssword </a>
      </div>
    </div>
  </main>

  <script>
    // App state
    let web3;
    let contract;
    let accounts = [];
    let tokenId = 0;
    let isProcessing = false;
    let vantaEffect;

    // Initialize the app
    async function initApp() {
      try {
        // Initialize Vanta.js effect
        initVanta();

        // Check for Web3 wallet
        if (!window.ethereum) {
          showError("Please install MetaMask or another Web3 wallet.");
          disableButtons();
          return;
        }

        // Initialize Web3
        web3 = new Web3(window.ethereum);
        
        // Check and switch to Polygon network
        await checkNetwork();
        
        // Connect to wallet
        await connectWallet();
        
        // Initialize contract
        await initializeContract();
        
        // Set up UI
        updateWalletInfo();
        await checkOwner();
        await updateStats();
        await checkBidStatus();
        await checkMintedStatus();

        // Set up event listeners
        setupEventListeners();

      } catch (error) {
        console.error("Initialization error:", error);
        showError("Failed to connect. Please refresh and ensure you're on Polygon network.");
        disableButtons();
      }
    }

    async function initializeContract() {
      contract = new web3.eth.Contract(config.abi, config.contractAddress);
      tokenId = await contract.methods.TOKEN_ID().call();
    }

    function initVanta() {
      if (window.VANTA) {
        vantaEffect = VANTA.NET({
          el: "#bg",
          mouseControls: true,
          touchControls: true,
          gyroControls: false,
          minHeight: 200.00,
          minWidth: 200.00,
          scale: 1.00,
          scaleMobile: 1.00,
          color: 0x00ff00,
          backgroundColor: 0xffffff,
          points: 12.00,
          maxDistance: 22.00,
          spacing: 18.00
        });
      } else {
        setTimeout(initVanta, 100);
      }
    }

    async function checkNetwork() {
      const chainId = await window.ethereum.request({ method: 'eth_chainId' });
      if (chainId !== '0x89') {
        try {
          await window.ethereum.request({
            method: 'wallet_switchEthereumChain',
            params: [{ chainId: '0x89' }],
          });
        } catch (error) {
          showError("Please switch to Polygon Network in your wallet");
          throw error;
        }
      }
    }

    async function connectWallet() {
      try {
        accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
        if (accounts.length === 0) {
          throw new Error("No accounts found");
        }
      } catch (error) {
        console.error("Wallet connection error:", error);
        showError("Please connect your wallet to continue");
        throw error;
      }
    }

    function updateWalletInfo() {
      const walletInfo = document.getElementById('walletInfo');
      if (accounts.length > 0) {
        const shortAddress = `${accounts[0].substring(0, 6)}...${accounts[0].substring(38)}`;
        walletInfo.textContent = `Connected: ${shortAddress}`;
        walletInfo.style.color = "#00ff99";
      } else {
        walletInfo.textContent = "Wallet not connected";
        walletInfo.style.color = "#ff4444";
      }
    }

    async function updateStats() {
      try {
        const [totalMinted, maxSupply, userBalance] = await Promise.all([
          contract.methods.totalMinted().call(),
          contract.methods.MAX_SUPPLY().call(),
          contract.methods.balanceOf(accounts[0], tokenId).call()
        ]);
        
        document.getElementById('totalMinted').textContent = totalMinted;
        document.getElementById('maxSupply').textContent = maxSupply;
        document.getElementById('userBalance').textContent = userBalance;
      } catch (error) {
        console.error("Failed to update stats:", error);
        showError("Failed to load collection stats");
      }
    }

    async function checkBidStatus() {
      try {
        const bid = await contract.methods.bids(accounts[0]).call();
        const mintButton = document.getElementById('mintButton');
        
        console.log("Current bid status:", bid);
        
        if (bid.amount > 0) {
          if (bid.approved) {
            showSuccess("Your bid has been approved! You can now mint.");
            mintButton.disabled = false;
            mintButton.textContent = "Mint NFT";
            
            // Force UI update
            mintButton.style.display = 'none';
            mintButton.offsetHeight;
            mintButton.style.display = 'block';
          } else if (bid.refunded) {
            showError("Your bid was refunded.");
            mintButton.disabled = true;
            mintButton.textContent = "Bid Refunded";
          } else {
            showSuccess("Bid submitted. Waiting for approval...");
            mintButton.disabled = true;
            mintButton.textContent = "Waiting Approval";
          }
        } else {
          mintButton.disabled = true;
          mintButton.textContent = "Mint NFT";
        }
      } catch (error) {
        console.error("Failed to check bid status:", error);
        showError("Failed to check your bid status");
      }
    }

    async function checkMintedStatus() {
      try {
        const hasMinted = await contract.methods.hasMinted(accounts[0]).call();
        const mintButton = document.getElementById('mintButton');
        
        if (hasMinted) {
          mintButton.disabled = true;
          mintButton.textContent = "Already Minted";
          showSuccess("You've already minted your NFT!");
        }
      } catch (error) {
        console.error("Failed to check minted status:", error);
      }
    }

    async function checkOwner() {
      try {
        const owner = await contract.methods.owner().call();
        const adminPanel = document.getElementById('adminPanel');
        
        if (accounts[0] && accounts[0].toLowerCase() === owner.toLowerCase()) {
          adminPanel.style.display = 'block';
          showSuccess("Admin privileges activated");
        } else {
          adminPanel.style.display = 'none';
        }
      } catch (error) {
        console.error("Failed to check owner status:", error);
      }
    }

    async function submitBid() {
      if (isProcessing) return;
      isProcessing = true;
      
      try {
        const bidAmount = document.getElementById('bidAmount').value;
        if (!bidAmount || isNaN(bidAmount)) {
          showError("Please enter a valid amount");
          return;
        }
        
        const amount = parseFloat(bidAmount);
        if (amount <= 0) {
          showError("Bid amount must be greater than 0");
          return;
        }

        showLoading();
        hideMessages();
        
        const weiAmount = web3.utils.toWei(bidAmount, "ether");
        
        const existingBid = await contract.methods.bids(accounts[0]).call();
        if (existingBid.amount > 0 && !existingBid.refunded) {
          showError("You already have an active bid");
          return;
        }
        
        let gasEstimate;
        try {
          gasEstimate = await contract.methods.submitBid()
            .estimateGas({ from: accounts[0], value: weiAmount });
        } catch (err) {
          console.error("Gas estimation failed:", err);
          showError("Failed to estimate gas. Contract may be paused.");
          return;
        }
        
        const tx = await contract.methods.submitBid().send({
          from: accounts[0],
          value: weiAmount,
          gas: Math.round(gasEstimate * 1.3)
        });
        
        updateTransactionDetails(tx);
        showSuccess("✅ Bid submitted successfully!");
        await checkBidStatus();
      } catch (err) {
        console.error("Bid submission failed:", err);
        showError(getErrorMessage(err));
      } finally {
        isProcessing = false;
        hideLoading();
      }
    }

    async function mintNFT() {
      if (isProcessing) return;
      isProcessing = true;
      
      try {
        const bid = await contract.methods.bids(accounts[0]).call();
        console.log("Current bid status for minting:", bid);
        
        if (!bid.approved) {
          showError("Your bid hasn't been approved yet");
          return;
        }

        const hasMinted = await contract.methods.hasMinted(accounts[0]).call();
        if (hasMinted) {
          showError("You've already minted your NFT!");
          return;
        }

        showLoading();
        hideMessages();
        
        let gasEstimate;
        try {
          gasEstimate = await contract.methods.mint()
            .estimateGas({ from: accounts[0] });
        } catch (err) {
          console.error("Gas estimation failed:", err);
          showError("Failed to estimate gas. Contract may be paused.");
          return;
        }
        
        const tx = await contract.methods.mint().send({ 
          from: accounts[0],
          gas: Math.round(gasEstimate * 1.3)
        });
        
        updateTransactionDetails(tx);
        showSuccess("🎉 NFT Minted Successfully!");
        await updateStats();
        await checkMintedStatus();
      } catch (err) {
        console.error("Minting failed:", err);
        showError(getErrorMessage(err));
      } finally {
        isProcessing = false;
        hideLoading();
      }
    }

    async function withdrawBid() {
      if (isProcessing) return;
      isProcessing = true;
      
      try {
        const bid = await contract.methods.bids(accounts[0]).call();
        if (bid.amount === 0) {
          showError("No bid to withdraw");
          return;
        }
        if (bid.refunded) {
          showError("Bid already withdrawn");
          return;
        }

        showLoading();
        hideMessages();
        
        let gasEstimate;
        try {
          gasEstimate = await contract.methods.withdrawBid()
            .estimateGas({ from: accounts[0] });
        } catch (err) {
          console.error("Gas estimation failed:", err);
          showError("Failed to estimate gas. Contract may be paused.");
          return;
        }
        
        const tx = await contract.methods.withdrawBid().send({ 
          from: accounts[0],
          gas: Math.round(gasEstimate * 1.3)
        });
        
        updateTransactionDetails(tx);
        showSuccess("✅ Bid withdrawn successfully.");
        await checkBidStatus();
      } catch (err) {
        console.error("Withdrawal failed:", err);
        showError(getErrorMessage(err));
      } finally {
        isProcessing = false;
        hideLoading();
      }
    }

    async function approveBid() {
      if (isProcessing) return;
      isProcessing = true;
      
      const bidderAddress = document.getElementById('bidderAddress').value.trim();
      if (!web3.utils.isAddress(bidderAddress)) {
        showError("Please enter a valid wallet address");
        isProcessing = false;
        return;
      }
      
      try {
        showLoading();
        hideMessages();
        
        const bid = await contract.methods.bids(bidderAddress).call();
        if (bid.amount === 0) {
          showError("No bid found for this address");
          return;
        }
        if (bid.approved) {
          showError("Bid already approved");
          return;
        }
        
        let gasEstimate;
        try {
          gasEstimate = await contract.methods.approveBid(bidderAddress)
            .estimateGas({ from: accounts[0] });
        } catch (err) {
          console.error("Gas estimation failed:", err);
          showError("Failed to estimate gas. Contract may be paused.");
          return;
        }
        
        const tx = await contract.methods.approveBid(bidderAddress).send({
          from: accounts[0],
          gas: Math.round(gasEstimate * 1.3)
        });
        
        updateTransactionDetails(tx);
        showSuccess(`✅ Approved bid for ${bidderAddress.substring(0, 6)}...`);
      } catch (err) {
        console.error("Approval failed:", err);
        showError(getErrorMessage(err));
      } finally {
        isProcessing = false;
        hideLoading();
      }
    }

    async function rejectBid() {
      if (isProcessing) return;
      isProcessing = true;
      
      const bidderAddress = document.getElementById('bidderAddress').value.trim();
      if (!web3.utils.isAddress(bidderAddress)) {
        showError("Please enter a valid wallet address");
        isProcessing = false;
        return;
      }
      
      try {
        showLoading();
        hideMessages();
        
        const bid = await contract.methods.bids(bidderAddress).call();
        if (bid.amount === 0) {
          showError("No bid found for this address");
          return;
        }
        if (bid.refunded) {
          showError("Bid already refunded");
          return;
        }
        
        let gasEstimate;
        try {
          gasEstimate = await contract.methods.rejectBid(bidderAddress)
            .estimateGas({ from: accounts[0] });
        } catch (err) {
          console.error("Gas estimation failed:", err);
          showError("Failed to estimate gas. Contract may be paused.");
          return;
        }
        
        const tx = await contract.methods.rejectBid(bidderAddress).send({
          from: accounts[0],
          gas: Math.round(gasEstimate * 1.3)
        });
        
        updateTransactionDetails(tx);
        showSuccess(`✅ Rejected bid for ${bidderAddress.substring(0, 6)}...`);
      } catch (err) {
        console.error("Rejection failed:", err);
        showError(getErrorMessage(err));
      } finally {
        isProcessing = false;
        hideLoading();
      }
    }

    async function checkUnlockableContent() {
  try {
    if (!contract || !accounts[0]) return;
    
    const balance = await contract.methods.balanceOf(accounts[0], tokenId).call();
    const unlockableSection = document.getElementById('unlockableContent');
    
    if (balance > 0) {
      unlockableSection.style.display = 'block';
      
      // Set up unlock button
      document.getElementById('unlockButton').addEventListener('click', async () => {
        try {
          await contract.methods.accessUnlockableContent().send({ from: accounts[0] });
          document.getElementById('contentLink').style.display = 'block';
          showSuccess("Content unlocked successfully!");
        } catch (error) {
          showError("Failed to unlock content: " + getErrorMessage(error));
        }
      });
    } else {
      unlockableSection.style.display = 'none';
    }
  } catch (error) {
    console.error("Error checking unlockable content:", error);
  }
}
   
    function setupEventListeners() {
      document.getElementById('bidButton').addEventListener('click', submitBid);
      document.getElementById('mintButton').addEventListener('click', mintNFT);
      document.getElementById('withdrawButton').addEventListener('click', withdrawBid);
      document.getElementById('approveButton').addEventListener('click', approveBid);
      document.getElementById('rejectButton').addEventListener('click', rejectBid);
      document.getElementById('refreshButton').addEventListener('click', refreshStatus);
      
      window.ethereum.on('accountsChanged', (newAccounts) => {
        accounts = newAccounts;
        updateWalletInfo();
        updateStats();
        checkBidStatus();
        checkMintedStatus();
        checkOwner();
      });
      
      window.ethereum.on('chainChanged', () => window.location.reload());
    }

    async function refreshStatus() {
      showLoading();
      try {
        await initializeContract();
        await checkBidStatus();
        await checkMintedStatus();
        await updateStats();
        await checkUnlockableContent();
        showSuccess("Status refreshed successfully!");
      } catch (error) {
        console.error("Refresh failed:", error);
        showError("Failed to refresh status");
      } finally {
        hideLoading();
      }
    }

    function updateTransactionDetails(tx) {
      document.getElementById('txFrom').textContent = shortenAddress(tx.from);
      document.getElementById('txTo').textContent = shortenAddress(tx.to);
      document.getElementById('txGas').textContent = `${web3.utils.fromWei(tx.gasUsed, 'ether')} MATIC`;
    }

    function shortenAddress(address) {
      if (!address) return '-';
      return `${address.substring(0, 6)}...${address.substring(38)}`;
    }

    function getErrorMessage(error) {
      if (error.code === 4001) return "Transaction was rejected by user";
      if (error.message.includes("Internal JSON-RPC")) return "Network error - please try again";
      if (error.data?.message) {
        const revertMatch = error.data.message.match(/reverted with reason string '(.+)'/);
        if (revertMatch) return revertMatch[1];
      }
      if (error.message.includes("insufficient funds")) return "Insufficient MATIC for transaction";
      if (error.message.includes("execution reverted")) return "Contract rejected transaction";
      return "Transaction failed. See console for details.";
    }

    function showLoading() {
      document.getElementById('loading').style.display = "block";
      disableButtons();
    }

    function hideLoading() {
      document.getElementById('loading').style.display = "none";
      enableButtons();
    }

    function showError(message) {
      const el = document.getElementById('error');
      el.textContent = message;
      el.style.display = "block";
      document.getElementById('success').style.display = "none";
    }

    function showSuccess(message) {
      const el = document.getElementById('success');
      el.textContent = message;
      el.style.display = "block";
      document.getElementById('error').style.display = "none";
    }

    function hideMessages() {
      document.getElementById('error').style.display = "none";
      document.getElementById('success').style.display = "none";
    }

    function disableButtons() {
      document.getElementById('bidButton').disabled = true;
      document.getElementById('mintButton').disabled = true;
      document.getElementById('withdrawButton').disabled = true;
      document.getElementById('approveButton').disabled = true;
      document.getElementById('rejectButton').disabled = true;
      document.getElementById('refreshButton').disabled = true;
    }

    function enableButtons() {
      document.getElementById('bidButton').disabled = false;
      document.getElementById('withdrawButton').disabled = false;
      document.getElementById('approveButton').disabled = false;
      document.getElementById('rejectButton').disabled = false;
      document.getElementById('refreshButton').disabled = false;
      
      if (contract && accounts[0]) {
        contract.methods.bids(accounts[0]).call()
          .then(bid => {
            document.getElementById('mintButton').disabled = !bid.approved;
          })
          .catch(console.error);
      }
    }

    // Smart contract configuration
    const config = {
      contractAddress: "0xd292d96070f5d8a9e8c9dae1fe12ad57d721262b",
      abi: [
	{
		"inputs": [],
		"name": "accessUnlockableContent",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "bidder",
				"type": "address"
			}
		],
		"name": "approveBid",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "balance",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "needed",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "tokenId",
				"type": "uint256"
			}
		],
		"name": "ERC1155InsufficientBalance",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "approver",
				"type": "address"
			}
		],
		"name": "ERC1155InvalidApprover",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "idsLength",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "valuesLength",
				"type": "uint256"
			}
		],
		"name": "ERC1155InvalidArrayLength",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "ERC1155InvalidOperator",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "receiver",
				"type": "address"
			}
		],
		"name": "ERC1155InvalidReceiver",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "sender",
				"type": "address"
			}
		],
		"name": "ERC1155InvalidSender",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "ERC1155MissingApprovalForAll",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "OwnableInvalidOwner",
		"type": "error"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "OwnableUnauthorizedAccount",
		"type": "error"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "account",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "ApprovalForAll",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "bidder",
				"type": "address"
			}
		],
		"name": "BidApproved",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "bidder",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"name": "BidRejected",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "bidder",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "BidSubmitted",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "FundsWithdrawn",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "mint",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "minter",
				"type": "address"
			}
		],
		"name": "NFTMinted",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "pause",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "Paused",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "bidder",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "RefundIssued",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "bidder",
				"type": "address"
			}
		],
		"name": "rejectBid",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256[]",
				"name": "ids",
				"type": "uint256[]"
			},
			{
				"internalType": "uint256[]",
				"name": "values",
				"type": "uint256[]"
			},
			{
				"internalType": "bytes",
				"name": "data",
				"type": "bytes"
			}
		],
		"name": "safeBatchTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			},
			{
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			},
			{
				"internalType": "bytes",
				"name": "data",
				"type": "bytes"
			}
		],
		"name": "safeTransferFrom",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			}
		],
		"name": "setApprovalForAll",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "submitBid",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bool",
				"name": "_status",
				"type": "bool"
			}
		],
		"name": "toggleWithdrawals",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256[]",
				"name": "ids",
				"type": "uint256[]"
			},
			{
				"indexed": false,
				"internalType": "uint256[]",
				"name": "values",
				"type": "uint256[]"
			}
		],
		"name": "TransferBatch",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "operator",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "from",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "to",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "value",
				"type": "uint256"
			}
		],
		"name": "TransferSingle",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "string",
				"name": "value",
				"type": "string"
			},
			{
				"indexed": true,
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			}
		],
		"name": "URI",
		"type": "event"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "owner",
				"type": "address"
			}
		],
		"name": "UnlockableContentAccessed",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "unpause",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": false,
				"internalType": "address",
				"name": "account",
				"type": "address"
			}
		],
		"name": "Unpaused",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "withdraw",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "withdrawBid",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "allowWithdrawals",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			},
			{
				"internalType": "uint256",
				"name": "id",
				"type": "uint256"
			}
		],
		"name": "balanceOf",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address[]",
				"name": "accounts",
				"type": "address[]"
			},
			{
				"internalType": "uint256[]",
				"name": "ids",
				"type": "uint256[]"
			}
		],
		"name": "balanceOfBatch",
		"outputs": [
			{
				"internalType": "uint256[]",
				"name": "",
				"type": "uint256[]"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "bids",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			},
			{
				"internalType": "bool",
				"name": "approved",
				"type": "bool"
			},
			{
				"internalType": "bool",
				"name": "refunded",
				"type": "bool"
			},
			{
				"internalType": "uint256",
				"name": "timestamp",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"name": "hasMinted",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "account",
				"type": "address"
			},
			{
				"internalType": "address",
				"name": "operator",
				"type": "address"
			}
		],
		"name": "isApprovedForAll",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "MAX_SUPPLY",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "MIN_BID",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "paused",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "bytes4",
				"name": "interfaceId",
				"type": "bytes4"
			}
		],
		"name": "supportsInterface",
		"outputs": [
			{
				"internalType": "bool",
				"name": "",
				"type": "bool"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "TOKEN_ID",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "totalMinted",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"name": "uri",
		"outputs": [
			{
				"internalType": "string",
				"name": "",
				"type": "string"
			}
		],
		"stateMutability": "pure",
		"type": "function"
	}
]
    };

    // Initialize the app
    window.addEventListener('DOMContentLoaded', initApp);
  </script>
	<!-- Add this anywhere in your HTML body -->
<div id="robotNavContainer">
  <div id="robotArm">
    <div class="arm-segment base">
      <div class="arm-segment joint1">
                <div class="arm-segment segment3">
                  <div class="robot-hand" id="robotHand">
                    <div class="menu-panel">
                      <div class="menu-header">NAVIGATION TERMINAL</div>
                      <div class="menu-items">
                        <a href="https://www.engmo1234.com/" class="menu-item" data-sound="click1">
                          <span class="menu-icon">⌂</span> HOME
                        </a>
                        <a href="https://www.engmo1234.com/BLOG" class="menu-item" data-sound="click2">
                          <span class="menu-icon">✍</span> BLOG
                        </a>
                        <a href="https://www.engmo1234.com/vipreveal_bilingual_updated.html" class="menu-item" data-sound="click3">
                          <span class="menu-icon">★</span> VIP PACKAGES
                        </a>
                        <a href="https://www.engmo1234.com/bidmintlast.html" class="menu-item" data-sound="click1">
                          <span class="menu-icon">✧</span> BIDMINT
                        </a>
                        <a href="https://www.engmo1234.com/senior.html" class="menu-item" data-sound="click2">
                          <span class="menu-icon">⚭</span> SENIOR
                        </a>
                        <a href="https://www.engmo1234.com/topvip4.html" class="menu-item" data-sound="click3">
                          <span class="menu-icon">♛</span> TOP VIP
                        </a>
                        <a href="https://www.engmo1234.com/terms_green_organized.html" class="menu-item" data-sound="click1">
                          <span class="menu-icon">⚖</span> TERMS
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div id="robotNavToggle">≡</div>
</div>

<style>
  /* Robotic Navigation Styles */
  #robotNavContainer {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 9999;
    transform-origin: top right;
    transition: all 0.3s ease;
  }

  #robotArm {
    position: relative;
    width: 300px;
    height: 400px;
    transform: scale(0.8);
    transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
    opacity: 0;
    pointer-events: none;
  }

  #robotNavContainer.active #robotArm {
    opacity: 1;
    pointer-events: auto;
    transform: scale(1);
  }

  .arm-segment {
    position: absolute;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
    border: 2px solid #00ff88;
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
  }

  .base {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    top: 0;
    right: 0;
    background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
  }

  .joint1 {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    top: 10px;
    right: 10px;
    background: linear-gradient(135deg, #3a3a3a 0%, #1a1a1a 100%);
    animation: rotateJoint1 5s infinite alternate;
  }

  .segment1 {
    width: 20px;
    height: 120px;
    top: 50px;
    right: 20px;
    border-radius: 10px;
    transform-origin: top center;
    animation: extendSegment1 6s infinite alternate;
  }

  .joint2 {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    top: 110px;
    right: 5px;
    background: linear-gradient(135deg, #3a3a3a 0%, #1a1a1a 100%);
    animation: rotateJoint2 4s infinite alternate-reverse;
  }

  .segment2 {
    width: 15px;
    height: 100px;
    top: 140px;
    right: 7.5px;
    border-radius: 8px;
    transform-origin: top center;
    animation: extendSegment2 5s infinite alternate;
  }

  .joint3 {
    width: 25px;
    height: 25px;
    border-radius: 50%;
    top: 240px;
    right: 2.5px;
    background: linear-gradient(135deg, #3a3a3a 0%, #1a1a1a 100%);
    animation: rotateJoint3 3s infinite alternate;
  }

  .segment3 {
    width: 12px;
    height: 80px;
    top: 265px;
    right: 6px;
    border-radius: 6px;
    transform-origin: top center;
  }

  .robot-hand {
    width: 180px;
    height: 220px;
    position: absolute;
    top: 345px;
    right: -80px;
    transform-origin: top center;
    transform: rotate(-15deg);
  }

  .menu-panel {
    width: 100%;
    height: 100%;
    background: rgba(10, 10, 20, 0.95);
    border: 3px solid #00ff88;
    border-radius: 10px;
    box-shadow: 0 0 30px rgba(0, 255, 136, 0.7);
    padding: 15px;
    color: #00ff88;
    font-family: 'Courier New', monospace;
    overflow: hidden;
    position: relative;
  }

  .menu-panel::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #00ff88, transparent);
    animation: scanline 3s linear infinite;
  }

  .menu-header {
    font-size: 16px;
    text-align: center;
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 1px dashed #00ff88;
    text-shadow: 0 0 5px #00ff88;
    letter-spacing: 2px;
  }

  .menu-items {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .menu-item {
    color: #00ff88;
    text-decoration: none;
    padding: 8px 12px;
    border: 1px solid #00ff88;
    border-radius: 5px;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
    background: rgba(0, 255, 136, 0.1);
  }

  .menu-item:hover {
    background: rgba(0, 255, 136, 0.3);
    box-shadow: 0 0 15px rgba(0, 255, 136, 0.5);
    transform: translateX(-5px);
  }

  .menu-icon {
    font-size: 18px;
  }

  #robotNavToggle {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
    border: 2px solid #00ff88;
    border-radius: 50%;
    color: #00ff88;
    font-size: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 10000;
    box-shadow: 0 0 20px rgba(0, 255, 136, 0.5);
    transition: all 0.3s ease;
  }

  #robotNavToggle:hover {
    background: linear-gradient(135deg, #302b63 0%, #0f0c29 100%);
    transform: rotate(90deg);
  }

  /* Animations */
  @keyframes rotateJoint1 {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(45deg); }
  }

  @keyframes extendSegment1 {
    0% { transform: scaleY(1); }
    100% { transform: scaleY(1.1); }
  }

  @keyframes rotateJoint2 {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(-30deg); }
  }

  @keyframes extendSegment2 {
    0% { transform: scaleY(1); }
    100% { transform: scaleY(1.05); }
  }

  @keyframes rotateJoint3 {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(15deg); }
  }

  @keyframes scanline {
    0% { transform: translateY(0); }
    100% { transform: translateY(220px); }
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    #robotArm {
      transform: scale(0.6);
      transform-origin: top right;
    }
    
    #robotNavContainer.active #robotArm {
      transform: scale(0.7);
    }
    
    .robot-hand {
      width: 150px;
      height: 180px;
      right: -60px;
    }
    
    .menu-panel {
      padding: 10px;
    }
    
    .menu-header {
      font-size: 14px;
    }
    
    .menu-item {
      padding: 6px 8px;
      font-size: 14px;
    }
  }
</style>

<script>
  // Toggle menu visibility
  const navToggle = document.getElementById('robotNavToggle');
  const navContainer = document.getElementById('robotNavContainer');
  
  navToggle.addEventListener('click', function() {
    navContainer.classList.toggle('active');
    playSound('servo');
  });
  
  // Add click sounds to menu items
  const menuItems = document.querySelectorAll('.menu-item');
  menuItems.forEach(item => {
    item.addEventListener('click', function() {
      const soundType = this.getAttribute('data-sound');
      playSound(soundType);
    });
  });
  
  // Sound effects (using Web Audio API)
  function playSound(type) {
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const oscillator = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    
    oscillator.connect(gainNode);
    gainNode.connect(audioCtx.destination);
    
    // Different sounds for different actions
    switch(type) {
      case 'click1':
        oscillator.type = 'square';
        oscillator.frequency.value = 300;
        gainNode.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.3);
        break;
      case 'click2':
        oscillator.type = 'sine';
        oscillator.frequency.value = 500;
        gainNode.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.2);
        break;
      case 'click3':
        oscillator.type = 'triangle';
        oscillator.frequency.value = 700;
        gainNode.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.25);
        break;
      case 'servo':
        oscillator.type = 'sawtooth';
        oscillator.frequency.setValueAtTime(100, audioCtx.currentTime);
        oscillator.frequency.exponentialRampToValueAtTime(400, audioCtx.currentTime + 0.1);
        gainNode.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.3);
        break;
    }
    
    oscillator.start();
    oscillator.stop(audioCtx.currentTime + 0.5);
  }
</script>
</body>
</html>
